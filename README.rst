APEs: Astropy Proposals for Enhancement
---------------------------------------

APEs are documents to address non-trivial enhancements that require discussion
and thought beyond a single Pull Request. This is intended to mirror the
long-standing PEP (Python Enhancement Proposal) process, but generally not quite as
formally. Please consult `APE Purpose and Process`_ for full details.

APEs
^^^^

=== ================================================================ =========== ============ ============
#   Title                                                            Date (last  Status       DOI
                                                                     revised)
=== ================================================================ =========== ============ ============
0   `The Astropy Project Governance Charter`_                        2021-Feb-19   Accepted   |APE 0 DOI|
1   `APE Purpose and Process`_                                       2024-Feb-05   Accepted   |APE 1 DOI|
2   `Astropy Release Cycle and Version Numbering`_                   2013-Dec-11   Accepted   |APE 2 DOI|
3   `Configuration`_                                                 2013-Dec-10   Accepted   |APE 3 DOI|
4   `Astropy Setup Helpers`_                                         2014-Jun-28   Accepted   |APE 4 DOI|
5   `Coordinates Subpackage Plan`_                                   2014-Jan-22   Accepted   |APE 5 DOI|
6   `Enhanced Character Separated Values table format`_              2015-Jan-26   Accepted   |APE 6 DOI|
7   `NDData Plan`_                                                   2014-Dec-17   Accepted   |APE 7 DOI|
8   `Astropy Community Code of Conduct`_                             2015-May-04   Accepted   |APE 8 DOI|
9   `Timeseries object for Astropy`_                                 2023-Oct-20   Accepted   |APE 9 DOI|
10  `Roadmap for Python 3-only support`_                             2016-Aug-22   Accepted   |APE 10 DOI|
12  `Using Cookiecutter for the package-template`_                   2017-Mar-28   Accepted   |APE 12 DOI|
13  `Vision for Astropy Spectroscopic Tools`_                        2017-Dec-12   Accepted   |APE 13 DOI|
14  `A shared Python interface for World Coordinate Systems`_        2018-Nov-09   Accepted   |APE 14 DOI|
15  `An Updated Model for the Affiliated Package Ecosystem`_         2018-May-14   Accepted   |APE 15 DOI|
17  `A roadmap for package infrastructure without astropy-helpers`_  2019-Dec-12   Accepted   |APE 17 DOI|
18  `Adopt NEP 29 for CPython and Numpy Version Support`_            2024-Jul-12   Accepted   |APE 18 DOI|
19  `Distributing Astropy Project Funding`_                          2022-Feb-28   Accepted   |APE 19 DOI|
20  `Formatting Code with Black`_                                    2022-Sep-23   Accepted   |APE 20 DOI|
21  `Ending Long Term Support Releases`_                             2023-May-31   Accepted   |APE 21 DOI|
22  `Astropy Affiliated Packages with pyOpenSci`_                    2024-Jan-29   Accepted   |APE 22 DOI|
=== ================================================================ =========== ============ ============

.. _The Astropy Project Governance Charter: https://github.com/astropy/astropy-APEs/blob/main/APE0.rst
.. _APE Purpose and Process: https://github.com/astropy/astropy-APEs/blob/main/APE1.rst
.. _Astropy Release Cycle and Version Numbering: https://github.com/astropy/astropy-APEs/blob/main/APE2.rst
.. _Configuration: https://github.com/astropy/astropy-APEs/blob/main/APE3.rst
.. _Astropy Setup Helpers: https://github.com/astropy/astropy-APEs/blob/main/APE4.rst
.. _Coordinates Subpackage Plan: https://github.com/astropy/astropy-APEs/blob/main/APE5.rst
.. _Enhanced Character Separated Values table format: https://github.com/astropy/astropy-APEs/blob/main/APE6.rst
.. _NDData Plan: https://github.com/astropy/astropy-APEs/blob/main/APE7.rst
.. _Astropy Community Code of Conduct: https://github.com/astropy/astropy-APEs/blob/main/APE8.rst
.. _Timeseries object for Astropy: https://github.com/astropy/astropy-APEs/blob/main/APE9.rst
.. _Roadmap for Python 3-only support: https://github.com/astropy/astropy-APEs/blob/main/APE10.rst
.. _Using Cookiecutter for the package-template: https://github.com/astropy/astropy-APEs/blob/main/APE12.rst
.. _Vision for Astropy Spectroscopic Tools: https://github.com/astropy/astropy-APEs/blob/main/APE13.rst
.. _A shared Python interface for World Coordinate Systems: https://github.com/astropy/astropy-APEs/blob/main/APE14.rst
.. _An Updated Model for the Affiliated Package Ecosystem: https://github.com/astropy/astropy-APEs/blob/main/APE15.rst
.. _A roadmap for package infrastructure without astropy-helpers: https://github.com/astropy/astropy-APEs/blob/main/APE17.rst
.. _Adopt NEP 29 for CPython and Numpy Version Support: https://github.com/astropy/astropy-APEs/blob/main/APE18.rst
.. _Distributing Astropy Project Funding: https://github.com/astropy/astropy-APEs/blob/main/APE19.rst
.. _Formatting Code with Black: https://github.com/astropy/astropy-APEs/blob/main/APE20.rst
.. _Ending Long Term Support Releases: https://github.com/astropy/astropy-APEs/blob/main/APE21.rst
.. _Astropy Affiliated Packages with pyOpenSci: https://github.com/astropy/astropy-APEs/blob/main/APE22.rst

.. |APE 0 DOI| image:: https://zenodo.org/badge/DOI/10.5281/zenodo.4552790.svg
   :target: https://doi.org/10.5281/zenodo.4552790

.. |APE 1 DOI| image:: https://zenodo.org/badge/DOI/10.5281/zenodo.10805921.svg
   :target: https://doi.org/10.5281/zenodo.10805921

.. |APE 2 DOI| image:: https://zenodo.org/badge/DOI/10.5281/zenodo.1043887.svg
   :target: https://doi.org/10.5281/zenodo.1043887

.. |APE 3 DOI| image:: https://zenodo.org/badge/DOI/10.5281/zenodo.1043889.svg
   :target: https://doi.org/10.5281/zenodo.1043889

.. |APE 4 DOI| image:: https://zenodo.org/badge/DOI/10.5281/zenodo.1043891.svg
   :target: https://doi.org/10.5281/zenodo.1043891

.. |APE 5 DOI| image:: https://zenodo.org/badge/DOI/10.5281/zenodo.1043896.svg
   :target: https://doi.org/10.5281/zenodo.1043896

.. |APE 6 DOI| image:: https://zenodo.org/badge/DOI/10.5281/zenodo.1043900.svg
   :target: https://doi.org/10.5281/zenodo.1043900

.. |APE 7 DOI| image:: https://zenodo.org/badge/DOI/10.5281/zenodo.1043906.svg
   :target: https://doi.org/10.5281/zenodo.1043906

.. |APE 8 DOI| image:: https://zenodo.org/badge/DOI/10.5281/zenodo.1043912.svg
   :target: https://doi.org/10.5281/zenodo.1043912

.. |APE 9 DOI| image:: https://zenodo.org/badge/DOI/10.5281/zenodo.10403160.svg
   :target: https://doi.org/10.5281/zenodo.10403160

.. |APE 10 DOI| image:: https://zenodo.org/badge/DOI/10.5281/zenodo.1038586.svg
   :target: https://doi.org/10.5281/zenodo.1038586

.. |APE 12 DOI| image:: https://zenodo.org/badge/DOI/10.5281/zenodo.1044483.svg
   :target: https://doi.org/10.5281/zenodo.1044483

.. |APE 13 DOI| image:: https://zenodo.org/badge/DOI/10.5281/zenodo.14834949.svg
   :target: https://doi.org/10.5281/zenodo.14834949

.. |APE 14 DOI| image:: https://zenodo.org/badge/DOI/10.5281/zenodo.11566733.svg
   :target: https://doi.org/10.5281/zenodo.11566733

.. |APE 15 DOI| image:: https://zenodo.org/badge/DOI/10.5281/zenodo.1246833.svg
   :target: https://doi.org/10.5281/zenodo.1246833

.. |APE 17 DOI| image:: https://zenodo.org/badge/DOI/10.5281/zenodo.3572843.svg
   :target: https://doi.org/10.5281/zenodo.3572843

.. |APE 18 DOI| image:: https://zenodo.org/badge/DOI/10.5281/zenodo.4563082.svg
   :target: https://doi.org/10.5281/zenodo.4563082

.. |APE 19 DOI| image:: https://zenodo.org/badge/DOI/10.5281/zenodo.6312048.svg
   :target: https://doi.org/10.5281/zenodo.6312048

.. |APE 20 DOI| image:: https://zenodo.org/badge/DOI/10.5281/zenodo.10562869.svg
   :target: https://doi.org/10.5281/zenodo.10562869

.. |APE 21 DOI| image:: https://zenodo.org/badge/DOI/10.5281/zenodo.7990988.svg
   :target: https://doi.org/10.5281/zenodo.7990988

.. |APE 22 DOI| image:: https://zenodo.org/badge/DOI/10.5281/zenodo.10581892.svg
   :target: https://doi.org/10.5281/zenodo.10581891

Proposing a new APE
^^^^^^^^^^^^^^^^^^^

Please read the "Submitting an APE" section in `APE Purpose and Process`_.

Tips:

* Don't forget to check the open PRs when finding the
  next free number for your APE.
* For your PR description, usually it's the easiest to paste in the
  abstract, and link to other existing GitHub Issues or PRs, if applicable.

Finalizing APEs
^^^^^^^^^^^^^^^

Please read the "APE Review" section in `APE Purpose and Process`_.

If the APE was accepted, here are the archiving (Zenodo) instructions for
the Coordination Committee:

#. Upload the APE to Zenodo to give it a DOI.  Log into the astropy team Zenodo
   account (*not your personal account*), go to https://zenodo.org/deposit/new,
   upload the RST file, and set the fields to the following:

   ============================= ======================================================
   Zenodo field                  Set to
   ============================= ======================================================
   Communities                   The Astropy Project
   Upload type                   Publication
   Publication type              Technical note
   Publication Date              The date-last-revised of the APE (which should be the same as the accepted date for new APEs)
   Title                         Astropy Proposal for Enhancement <number>: <title> (APE <number>)
   Authors                       The APE authors (directly from the APE text, but with ORCIDs if possible)
   Description                   The APE abstract (copy/paste the rendered HTML from GitHub)
   License                       CC-Attribution (default)
   Related/alternate identifiers GitHub link to the APE file *at the specific merge commit* (e.g. https://github.com/astropy/astropy-APEs/blob/42951733ac42c0ea178d8df30705274a43c93091/APE1.rst) as "is supplemented by this upload". If this is a revised version, this should be the URL of the commit where the APE was revised.
   ============================= ======================================================

#. Get the source for the DOI badge from the newly-created Zenodo record page by
   clicking on the DOI badge on the right side of the page and copying the
   reStructuredText source. You will need to update that with the "all versions"
   DOI number, which you can see under the "versions" section of Zenodo. (It is
   typically the first version minus 1.)
#. (This step can be done directly on `main` or as a PR, as you prefer.)
   Edit `README.rst` to add the DOI link from the previous step to the relevant
   row for the APE in the "APEs" table. Preview the update and test the link
   to make sure they are all correct. Then, commit the change.

Updating APEs
^^^^^^^^^^^^^

Please read the "Modifications to an existing APE" section in `APE Purpose and Process`_.

If applicable, the Zenodo entry needs to be updated with a new version of the APE (*not* a completely new
Zenodo entry), by using the "New version" button and then filling out the forms
as described in "Finalizing APEs" section above.
